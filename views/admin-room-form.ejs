<%- include('./admin-sidebar') -%>

<div class="container" style="margin-left: 250px; max-width: 25%; font-size: 3rem;">
    <h1><%= formTitle %></h1>
    <form action="<%= postLink %>" method="post" style="font-size: 2rem;">
      <div class="form-group">
        <label for="id">Room Number</label>
        <input class="form-control" id="id" placeholder="Enter Room Number" name="ROOM_ID" 
        value="<%= (typeof list !== 'undefined') ? list.ROOM_ID : '' %>" required>
      </div>

      <div class="form-group">
        <label for="id">Beds</label>
        <input class="form-control" id="id" placeholder="Enter Bed Number" name="BEDS" 
        value="<%= (typeof list !== 'undefined') ? list.BEDS : '' %>" required>
      </div>

      <% if(typeof list === 'undefined') { %>
        <div class="form-group">
          <label for="depts">Select Department</label>
          <select name="DEPARTMENT_ID">
            <% for(var i = 0; i < depts.length; i++) { %>
              <option value="<%= depts[i].ID %>">
                <%= depts[i].NAME %>
              </option>
            <% } %>
          </select>
        </div>
      <% } %>

      <% if(typeof list !== 'undefined') { %>
        <div class="form-group">
          <label for="id">Current Department</label>
          <input class="form-control" id="id" name="DEPT_NAME" 
          value="<%= list.DEPT_NAME %>" readonly>
          <input name="DEPARTMENT_ID" value="<%= list.DEPT_ID %>" hidden>
        </div>
      <% } %>

      <% if(typeof list === 'undefined') { %>
        <div class="form-group">
          <label for="depts">Select Ward</label>
          <select name="WARD_NO">
            <% for(var i = 0; i < depts.length; i++) { %>
                <% wards.forEach(function(ward) { %>
                   <% if(depts[i].ID == ward.DEPT_ID) { %>
                        <option value="<%= ward.WARD_NO %>">
                            <%= depts[i].NAME %> - <%= ward.WARD_NO %>
                        </option>
                   <% } %>
                <% }) %>
            <% } %>
          </select>
        </div>
      <% } %>

      <% if(typeof list !== 'undefined') { %>
        <div class="form-group">
          <label for="id">Current Ward</label>
          <input class="form-control" id="id" name="WARD_NO" 
          value="<%= list.WARD_NO %>" readonly>
        </div>
      <% } %>

      <!-- <div class="form-group">
        <label for="categories">Mao</label>
        <select name="categories" value="C">
            <option value="a">
              A
            </option>
            <option value="b">
              B
            </option>
        </select>
      </div> -->

      <button type="submit" class="btn btn-primary">Submit</button>
    </form>

    <script src="js/jquery.js"></script>        
      <script src="js/bootstrap.js"></script>
  
      <script>
          /* Loop through all dropdown buttons to toggle between hiding and showing its dropdown content - This allows the user to have multiple dropdowns without any conflict */
          var dropdown = document.getElementsByClassName("dropdown-btn");
          var i;
          
          for (i = 0; i < dropdown.length; i++) {
            dropdown[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var dropdownContent = this.nextElementSibling;
            if (dropdownContent.style.display === "block") {
                dropdownContent.style.display = "none";
            } else {
                dropdownContent.style.display = "block";
            }
            });
          }
      </script>
</div>
  

<%- include('./footer'); -%>